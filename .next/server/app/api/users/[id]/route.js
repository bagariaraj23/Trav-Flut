"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/users/[id]/route";
exports.ids = ["app/api/users/[id]/route"];
exports.modules = {

/***/ "@prisma/client":
/*!*********************************!*\
  !*** external "@prisma/client" ***!
  \*********************************/
/***/ ((module) => {

module.exports = require("@prisma/client");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "buffer":
/*!*************************!*\
  !*** external "buffer" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("buffer");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("crypto");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("stream");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("util");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fusers%2F%5Bid%5D%2Froute&page=%2Fapi%2Fusers%2F%5Bid%5D%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fusers%2F%5Bid%5D%2Froute.ts&appDir=%2FUsers%2Frajbagaria%2FDesktop%2FBolt-Travello%2FFlut%2Fproject%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Frajbagaria%2FDesktop%2FBolt-Travello%2FFlut%2Fproject&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fusers%2F%5Bid%5D%2Froute&page=%2Fapi%2Fusers%2F%5Bid%5D%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fusers%2F%5Bid%5D%2Froute.ts&appDir=%2FUsers%2Frajbagaria%2FDesktop%2FBolt-Travello%2FFlut%2Fproject%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Frajbagaria%2FDesktop%2FBolt-Travello%2FFlut%2Fproject&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _Users_rajbagaria_Desktop_Bolt_Travello_Flut_project_src_app_api_users_id_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/api/users/[id]/route.ts */ \"(rsc)/./src/app/api/users/[id]/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/users/[id]/route\",\n        pathname: \"/api/users/[id]\",\n        filename: \"route\",\n        bundlePath: \"app/api/users/[id]/route\"\n    },\n    resolvedPagePath: \"/Users/rajbagaria/Desktop/Bolt-Travello/Flut/project/src/app/api/users/[id]/route.ts\",\n    nextConfigOutput,\n    userland: _Users_rajbagaria_Desktop_Bolt_Travello_Flut_project_src_app_api_users_id_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/users/[id]/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZ1c2VycyUyRiU1QmlkJTVEJTJGcm91dGUmcGFnZT0lMkZhcGklMkZ1c2VycyUyRiU1QmlkJTVEJTJGcm91dGUmYXBwUGF0aHM9JnBhZ2VQYXRoPXByaXZhdGUtbmV4dC1hcHAtZGlyJTJGYXBpJTJGdXNlcnMlMkYlNUJpZCU1RCUyRnJvdXRlLnRzJmFwcERpcj0lMkZVc2VycyUyRnJhamJhZ2FyaWElMkZEZXNrdG9wJTJGQm9sdC1UcmF2ZWxsbyUyRkZsdXQlMkZwcm9qZWN0JTJGc3JjJTJGYXBwJnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz10cyZwYWdlRXh0ZW5zaW9ucz1qc3gmcGFnZUV4dGVuc2lvbnM9anMmcm9vdERpcj0lMkZVc2VycyUyRnJhamJhZ2FyaWElMkZEZXNrdG9wJTJGQm9sdC1UcmF2ZWxsbyUyRkZsdXQlMkZwcm9qZWN0JmlzRGV2PXRydWUmdHNjb25maWdQYXRoPXRzY29uZmlnLmpzb24mYmFzZVBhdGg9JmFzc2V0UHJlZml4PSZuZXh0Q29uZmlnT3V0cHV0PSZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFBc0c7QUFDdkM7QUFDYztBQUNvQztBQUNqSDtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsZ0hBQW1CO0FBQzNDO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsWUFBWTtBQUNaLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxRQUFRLGlFQUFpRTtBQUN6RTtBQUNBO0FBQ0EsV0FBVyw0RUFBVztBQUN0QjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ3VIOztBQUV2SCIsInNvdXJjZXMiOlsid2VicGFjazovL3RyaXB0aHJlYWQtYmFja2VuZC8/YzMzZCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBcHBSb3V0ZVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvYXBwLXJvdXRlL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IHBhdGNoRmV0Y2ggYXMgX3BhdGNoRmV0Y2ggfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9saWIvcGF0Y2gtZmV0Y2hcIjtcbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCIvVXNlcnMvcmFqYmFnYXJpYS9EZXNrdG9wL0JvbHQtVHJhdmVsbG8vRmx1dC9wcm9qZWN0L3NyYy9hcHAvYXBpL3VzZXJzL1tpZF0vcm91dGUudHNcIjtcbi8vIFdlIGluamVjdCB0aGUgbmV4dENvbmZpZ091dHB1dCBoZXJlIHNvIHRoYXQgd2UgY2FuIHVzZSB0aGVtIGluIHRoZSByb3V0ZVxuLy8gbW9kdWxlLlxuY29uc3QgbmV4dENvbmZpZ091dHB1dCA9IFwiXCJcbmNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IEFwcFJvdXRlUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLkFQUF9ST1VURSxcbiAgICAgICAgcGFnZTogXCIvYXBpL3VzZXJzL1tpZF0vcm91dGVcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS91c2Vycy9baWRdXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcInJvdXRlXCIsXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiYXBwL2FwaS91c2Vycy9baWRdL3JvdXRlXCJcbiAgICB9LFxuICAgIHJlc29sdmVkUGFnZVBhdGg6IFwiL1VzZXJzL3JhamJhZ2FyaWEvRGVza3RvcC9Cb2x0LVRyYXZlbGxvL0ZsdXQvcHJvamVjdC9zcmMvYXBwL2FwaS91c2Vycy9baWRdL3JvdXRlLnRzXCIsXG4gICAgbmV4dENvbmZpZ091dHB1dCxcbiAgICB1c2VybGFuZFxufSk7XG4vLyBQdWxsIG91dCB0aGUgZXhwb3J0cyB0aGF0IHdlIG5lZWQgdG8gZXhwb3NlIGZyb20gdGhlIG1vZHVsZS4gVGhpcyBzaG91bGRcbi8vIGJlIGVsaW1pbmF0ZWQgd2hlbiB3ZSd2ZSBtb3ZlZCB0aGUgb3RoZXIgcm91dGVzIHRvIHRoZSBuZXcgZm9ybWF0LiBUaGVzZVxuLy8gYXJlIHVzZWQgdG8gaG9vayBpbnRvIHRoZSByb3V0ZS5cbmNvbnN0IHsgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MgfSA9IHJvdXRlTW9kdWxlO1xuY29uc3Qgb3JpZ2luYWxQYXRobmFtZSA9IFwiL2FwaS91c2Vycy9baWRdL3JvdXRlXCI7XG5mdW5jdGlvbiBwYXRjaEZldGNoKCkge1xuICAgIHJldHVybiBfcGF0Y2hGZXRjaCh7XG4gICAgICAgIHNlcnZlckhvb2tzLFxuICAgICAgICBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlXG4gICAgfSk7XG59XG5leHBvcnQgeyByb3V0ZU1vZHVsZSwgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIG9yaWdpbmFsUGF0aG5hbWUsIHBhdGNoRmV0Y2gsICB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHAtcm91dGUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fusers%2F%5Bid%5D%2Froute&page=%2Fapi%2Fusers%2F%5Bid%5D%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fusers%2F%5Bid%5D%2Froute.ts&appDir=%2FUsers%2Frajbagaria%2FDesktop%2FBolt-Travello%2FFlut%2Fproject%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Frajbagaria%2FDesktop%2FBolt-Travello%2FFlut%2Fproject&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./src/app/api/users/[id]/route.ts":
/*!*****************************************!*\
  !*** ./src/app/api/users/[id]/route.ts ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   PUT: () => (/* binding */ PUT)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _lib_prisma__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/prisma */ \"(rsc)/./src/lib/prisma.ts\");\n/* harmony import */ var _lib_auth__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/auth */ \"(rsc)/./src/lib/auth.ts\");\n/* harmony import */ var _lib_validation__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/lib/validation */ \"(rsc)/./src/lib/validation.ts\");\n\n\n\n\n// Get user profile\nasync function GET(request, { params }) {\n    try {\n        const userId = params.id;\n        // Get current user from token (optional)\n        const authHeader = request.headers.get(\"authorization\");\n        let currentUserId = null;\n        if (authHeader?.startsWith(\"Bearer \")) {\n            const token = authHeader.substring(7);\n            const payload = _lib_auth__WEBPACK_IMPORTED_MODULE_2__.AuthService.verifyAccessToken(token);\n            currentUserId = payload?.userId || null;\n        }\n        // Find user\n        const user = await _lib_prisma__WEBPACK_IMPORTED_MODULE_1__.prisma.user.findUnique({\n            where: {\n                id: userId\n            },\n            select: {\n                id: true,\n                email: true,\n                username: true,\n                name: true,\n                avatarUrl: true,\n                bio: true,\n                isPrivate: true,\n                createdAt: true,\n                updatedAt: true\n            }\n        });\n        if (!user) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                success: false,\n                error: \"User not found\"\n            }, {\n                status: 404\n            });\n        }\n        // Check privacy settings\n        if (user.isPrivate && currentUserId !== userId) {\n            // Check if current user follows this user\n            if (currentUserId) {\n                const followRelation = await _lib_prisma__WEBPACK_IMPORTED_MODULE_1__.prisma.follow.findUnique({\n                    where: {\n                        followerId_followeeId: {\n                            followerId: currentUserId,\n                            followeeId: userId\n                        }\n                    }\n                });\n                if (!followRelation) {\n                    // Return limited profile for private users\n                    const limitedProfile = {\n                        id: user.id,\n                        email: \"\",\n                        username: user.username,\n                        name: user.name,\n                        avatarUrl: user.avatarUrl,\n                        bio: undefined,\n                        isPrivate: user.isPrivate,\n                        createdAt: user.createdAt.toISOString(),\n                        updatedAt: user.updatedAt.toISOString()\n                    };\n                    return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                        success: true,\n                        data: limitedProfile\n                    });\n                }\n            } else {\n                return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                    success: false,\n                    error: \"This profile is private\"\n                }, {\n                    status: 403\n                });\n            }\n        }\n        const userProfile = {\n            ...user,\n            createdAt: user.createdAt.toISOString(),\n            updatedAt: user.updatedAt.toISOString()\n        };\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: true,\n            data: userProfile\n        });\n    } catch (error) {\n        console.error(\"Get user error:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: false,\n            error: \"Internal server error\"\n        }, {\n            status: 500\n        });\n    }\n}\n// Update user profile\nasync function PUT(request, { params }) {\n    try {\n        const userId = params.id;\n        // Verify authentication\n        const authHeader = request.headers.get(\"authorization\");\n        if (!authHeader?.startsWith(\"Bearer \")) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                success: false,\n                error: \"Authorization token required\"\n            }, {\n                status: 401\n            });\n        }\n        const token = authHeader.substring(7);\n        const payload = _lib_auth__WEBPACK_IMPORTED_MODULE_2__.AuthService.verifyAccessToken(token);\n        if (!payload || payload.userId !== userId) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                success: false,\n                error: \"Unauthorized\"\n            }, {\n                status: 403\n            });\n        }\n        const body = await request.json();\n        // Validate input\n        const validatedData = _lib_validation__WEBPACK_IMPORTED_MODULE_3__.updateProfileSchema.parse(body);\n        // Check username uniqueness if provided\n        if (validatedData.username) {\n            const existingUser = await _lib_prisma__WEBPACK_IMPORTED_MODULE_1__.prisma.user.findUnique({\n                where: {\n                    username: validatedData.username\n                }\n            });\n            if (existingUser && existingUser.id !== userId) {\n                return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                    success: false,\n                    error: \"Username is already taken\"\n                }, {\n                    status: 400\n                });\n            }\n        }\n        // Update user\n        const updatedUser = await _lib_prisma__WEBPACK_IMPORTED_MODULE_1__.prisma.user.update({\n            where: {\n                id: userId\n            },\n            data: {\n                ...validatedData,\n                updatedAt: new Date()\n            },\n            select: {\n                id: true,\n                email: true,\n                username: true,\n                name: true,\n                avatarUrl: true,\n                bio: true,\n                isPrivate: true,\n                createdAt: true,\n                updatedAt: true\n            }\n        });\n        const userProfile = {\n            ...updatedUser,\n            createdAt: updatedUser.createdAt.toISOString(),\n            updatedAt: updatedUser.updatedAt.toISOString()\n        };\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: true,\n            data: userProfile\n        });\n    } catch (error) {\n        console.error(\"Update user error:\", error);\n        if (error.name === \"ZodError\") {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                success: false,\n                error: error.errors[0]?.message || \"Validation error\"\n            }, {\n                status: 400\n            });\n        }\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: false,\n            error: \"Internal server error\"\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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aUIsY0FBYyxNQUFNakQsK0NBQU1BLENBQUNpQixJQUFJLENBQUNpQyxNQUFNLENBQUM7WUFDM0MvQixPQUFPO2dCQUFFWixJQUFJRDtZQUFPO1lBQ3BCbUMsTUFBTTtnQkFDSixHQUFHSyxhQUFhO2dCQUNoQmxCLFdBQVcsSUFBSXVCO1lBQ2pCO1lBQ0EvQixRQUFRO2dCQUNOYixJQUFJO2dCQUNKYyxPQUFPO2dCQUNQQyxVQUFVO2dCQUNWQyxNQUFNO2dCQUNOQyxXQUFXO2dCQUNYQyxLQUFLO2dCQUNMQyxXQUFXO2dCQUNYQyxXQUFXO2dCQUNYQyxXQUFXO1lBQ2I7UUFDRjtRQUVBLE1BQU1jLGNBQTJCO1lBQy9CLEdBQUdPLFdBQVc7WUFDZHRCLFdBQVdzQixZQUFZdEIsU0FBUyxDQUFDYSxXQUFXO1lBQzVDWixXQUFXcUIsWUFBWXJCLFNBQVMsQ0FBQ1ksV0FBVztRQUM5QztRQUVBLE9BQU96QyxxREFBWUEsQ0FBQzhCLElBQUksQ0FBMkI7WUFDakRDLFNBQVM7WUFDVFcsTUFBTUM7UUFDUjtJQUVGLEVBQUUsT0FBT1gsT0FBWTtRQUNuQlksUUFBUVosS0FBSyxDQUFDLHNCQUFzQkE7UUFFcEMsSUFBSUEsTUFBTVIsSUFBSSxLQUFLLFlBQVk7WUFDN0IsT0FBT3hCLHFEQUFZQSxDQUFDOEIsSUFBSSxDQUFjO2dCQUNwQ0MsU0FBUztnQkFDVEMsT0FBT0EsTUFBTXFCLE1BQU0sQ0FBQyxFQUFFLEVBQUVDLFdBQVc7WUFDckMsR0FBRztnQkFBRXJCLFFBQVE7WUFBSTtRQUNuQjtRQUVBLE9BQU9qQyxxREFBWUEsQ0FBQzhCLElBQUksQ0FBYztZQUNwQ0MsU0FBUztZQUNUQyxPQUFPO1FBQ1QsR0FBRztZQUFFQyxRQUFRO1FBQUk7SUFDbkI7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL3RyaXB0aHJlYWQtYmFja2VuZC8uL3NyYy9hcHAvYXBpL3VzZXJzL1tpZF0vcm91dGUudHM/ZDY4NyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZXh0UmVxdWVzdCwgTmV4dFJlc3BvbnNlIH0gZnJvbSAnbmV4dC9zZXJ2ZXInXG5pbXBvcnQgeyBwcmlzbWEgfSBmcm9tICdAL2xpYi9wcmlzbWEnXG5pbXBvcnQgeyBBdXRoU2VydmljZSB9IGZyb20gJ0AvbGliL2F1dGgnXG5pbXBvcnQgeyB1cGRhdGVQcm9maWxlU2NoZW1hIH0gZnJvbSAnQC9saWIvdmFsaWRhdGlvbidcbmltcG9ydCB7IEFwaVJlc3BvbnNlLCBVc2VyUHJvZmlsZSwgVXNlclN0YXRzIH0gZnJvbSAnQC90eXBlcy9hcGknXG5cbi8vIEdldCB1c2VyIHByb2ZpbGVcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBHRVQoXG4gIHJlcXVlc3Q6IE5leHRSZXF1ZXN0LFxuICB7IHBhcmFtcyB9OiB7IHBhcmFtczogeyBpZDogc3RyaW5nIH0gfVxuKSB7XG4gIHRyeSB7XG4gICAgY29uc3QgdXNlcklkID0gcGFyYW1zLmlkXG4gICAgXG4gICAgLy8gR2V0IGN1cnJlbnQgdXNlciBmcm9tIHRva2VuIChvcHRpb25hbClcbiAgICBjb25zdCBhdXRoSGVhZGVyID0gcmVxdWVzdC5oZWFkZXJzLmdldCgnYXV0aG9yaXphdGlvbicpXG4gICAgbGV0IGN1cnJlbnRVc2VySWQ6IHN0cmluZyB8IG51bGwgPSBudWxsXG4gICAgXG4gICAgaWYgKGF1dGhIZWFkZXI/LnN0YXJ0c1dpdGgoJ0JlYXJlciAnKSkge1xuICAgICAgY29uc3QgdG9rZW4gPSBhdXRoSGVhZGVyLnN1YnN0cmluZyg3KVxuICAgICAgY29uc3QgcGF5bG9hZCA9IEF1dGhTZXJ2aWNlLnZlcmlmeUFjY2Vzc1Rva2VuKHRva2VuKVxuICAgICAgY3VycmVudFVzZXJJZCA9IHBheWxvYWQ/LnVzZXJJZCB8fCBudWxsXG4gICAgfVxuXG4gICAgLy8gRmluZCB1c2VyXG4gICAgY29uc3QgdXNlciA9IGF3YWl0IHByaXNtYS51c2VyLmZpbmRVbmlxdWUoe1xuICAgICAgd2hlcmU6IHsgaWQ6IHVzZXJJZCB9LFxuICAgICAgc2VsZWN0OiB7XG4gICAgICAgIGlkOiB0cnVlLFxuICAgICAgICBlbWFpbDogdHJ1ZSxcbiAgICAgICAgdXNlcm5hbWU6IHRydWUsXG4gICAgICAgIG5hbWU6IHRydWUsXG4gICAgICAgIGF2YXRhclVybDogdHJ1ZSxcbiAgICAgICAgYmlvOiB0cnVlLFxuICAgICAgICBpc1ByaXZhdGU6IHRydWUsXG4gICAgICAgIGNyZWF0ZWRBdDogdHJ1ZSxcbiAgICAgICAgdXBkYXRlZEF0OiB0cnVlXG4gICAgICB9XG4gICAgfSlcblxuICAgIGlmICghdXNlcikge1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uPEFwaVJlc3BvbnNlPih7XG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICBlcnJvcjogJ1VzZXIgbm90IGZvdW5kJ1xuICAgICAgfSwgeyBzdGF0dXM6IDQwNCB9KVxuICAgIH1cblxuICAgIC8vIENoZWNrIHByaXZhY3kgc2V0dGluZ3NcbiAgICBpZiAodXNlci5pc1ByaXZhdGUgJiYgY3VycmVudFVzZXJJZCAhPT0gdXNlcklkKSB7XG4gICAgICAvLyBDaGVjayBpZiBjdXJyZW50IHVzZXIgZm9sbG93cyB0aGlzIHVzZXJcbiAgICAgIGlmIChjdXJyZW50VXNlcklkKSB7XG4gICAgICAgIGNvbnN0IGZvbGxvd1JlbGF0aW9uID0gYXdhaXQgcHJpc21hLmZvbGxvdy5maW5kVW5pcXVlKHtcbiAgICAgICAgICB3aGVyZToge1xuICAgICAgICAgICAgZm9sbG93ZXJJZF9mb2xsb3dlZUlkOiB7XG4gICAgICAgICAgICAgIGZvbGxvd2VySWQ6IGN1cnJlbnRVc2VySWQsXG4gICAgICAgICAgICAgIGZvbGxvd2VlSWQ6IHVzZXJJZFxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSlcblxuICAgICAgICBpZiAoIWZvbGxvd1JlbGF0aW9uKSB7XG4gICAgICAgICAgLy8gUmV0dXJuIGxpbWl0ZWQgcHJvZmlsZSBmb3IgcHJpdmF0ZSB1c2Vyc1xuICAgICAgICAgIGNvbnN0IGxpbWl0ZWRQcm9maWxlOiBVc2VyUHJvZmlsZSA9IHtcbiAgICAgICAgICAgIGlkOiB1c2VyLmlkLFxuICAgICAgICAgICAgZW1haWw6ICcnLFxuICAgICAgICAgICAgdXNlcm5hbWU6IHVzZXIudXNlcm5hbWUsXG4gICAgICAgICAgICBuYW1lOiB1c2VyLm5hbWUsXG4gICAgICAgICAgICBhdmF0YXJVcmw6IHVzZXIuYXZhdGFyVXJsLFxuICAgICAgICAgICAgYmlvOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBpc1ByaXZhdGU6IHVzZXIuaXNQcml2YXRlLFxuICAgICAgICAgICAgY3JlYXRlZEF0OiB1c2VyLmNyZWF0ZWRBdC50b0lTT1N0cmluZygpLFxuICAgICAgICAgICAgdXBkYXRlZEF0OiB1c2VyLnVwZGF0ZWRBdC50b0lTT1N0cmluZygpXG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uPEFwaVJlc3BvbnNlPFVzZXJQcm9maWxlPj4oe1xuICAgICAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgICAgIGRhdGE6IGxpbWl0ZWRQcm9maWxlXG4gICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uPEFwaVJlc3BvbnNlPih7XG4gICAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgICAgZXJyb3I6ICdUaGlzIHByb2ZpbGUgaXMgcHJpdmF0ZSdcbiAgICAgICAgfSwgeyBzdGF0dXM6IDQwMyB9KVxuICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IHVzZXJQcm9maWxlOiBVc2VyUHJvZmlsZSA9IHtcbiAgICAgIC4uLnVzZXIsXG4gICAgICBjcmVhdGVkQXQ6IHVzZXIuY3JlYXRlZEF0LnRvSVNPU3RyaW5nKCksXG4gICAgICB1cGRhdGVkQXQ6IHVzZXIudXBkYXRlZEF0LnRvSVNPU3RyaW5nKClcbiAgICB9XG5cbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb248QXBpUmVzcG9uc2U8VXNlclByb2ZpbGU+Pih7XG4gICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgZGF0YTogdXNlclByb2ZpbGVcbiAgICB9KVxuXG4gIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcbiAgICBjb25zb2xlLmVycm9yKCdHZXQgdXNlciBlcnJvcjonLCBlcnJvcilcbiAgICBcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb248QXBpUmVzcG9uc2U+KHtcbiAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgZXJyb3I6ICdJbnRlcm5hbCBzZXJ2ZXIgZXJyb3InXG4gICAgfSwgeyBzdGF0dXM6IDUwMCB9KVxuICB9XG59XG5cbi8vIFVwZGF0ZSB1c2VyIHByb2ZpbGVcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBQVVQoXG4gIHJlcXVlc3Q6IE5leHRSZXF1ZXN0LFxuICB7IHBhcmFtcyB9OiB7IHBhcmFtczogeyBpZDogc3RyaW5nIH0gfVxuKSB7XG4gIHRyeSB7XG4gICAgY29uc3QgdXNlcklkID0gcGFyYW1zLmlkXG4gICAgXG4gICAgLy8gVmVyaWZ5IGF1dGhlbnRpY2F0aW9uXG4gICAgY29uc3QgYXV0aEhlYWRlciA9IHJlcXVlc3QuaGVhZGVycy5nZXQoJ2F1dGhvcml6YXRpb24nKVxuICAgIGlmICghYXV0aEhlYWRlcj8uc3RhcnRzV2l0aCgnQmVhcmVyICcpKSB7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb248QXBpUmVzcG9uc2U+KHtcbiAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgIGVycm9yOiAnQXV0aG9yaXphdGlvbiB0b2tlbiByZXF1aXJlZCdcbiAgICAgIH0sIHsgc3RhdHVzOiA0MDEgfSlcbiAgICB9XG5cbiAgICBjb25zdCB0b2tlbiA9IGF1dGhIZWFkZXIuc3Vic3RyaW5nKDcpXG4gICAgY29uc3QgcGF5bG9hZCA9IEF1dGhTZXJ2aWNlLnZlcmlmeUFjY2Vzc1Rva2VuKHRva2VuKVxuXG4gICAgaWYgKCFwYXlsb2FkIHx8IHBheWxvYWQudXNlcklkICE9PSB1c2VySWQpIHtcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbjxBcGlSZXNwb25zZT4oe1xuICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgZXJyb3I6ICdVbmF1dGhvcml6ZWQnXG4gICAgICB9LCB7IHN0YXR1czogNDAzIH0pXG4gICAgfVxuXG4gICAgY29uc3QgYm9keSA9IGF3YWl0IHJlcXVlc3QuanNvbigpXG4gICAgXG4gICAgLy8gVmFsaWRhdGUgaW5wdXRcbiAgICBjb25zdCB2YWxpZGF0ZWREYXRhID0gdXBkYXRlUHJvZmlsZVNjaGVtYS5wYXJzZShib2R5KVxuXG4gICAgLy8gQ2hlY2sgdXNlcm5hbWUgdW5pcXVlbmVzcyBpZiBwcm92aWRlZFxuICAgIGlmICh2YWxpZGF0ZWREYXRhLnVzZXJuYW1lKSB7XG4gICAgICBjb25zdCBleGlzdGluZ1VzZXIgPSBhd2FpdCBwcmlzbWEudXNlci5maW5kVW5pcXVlKHtcbiAgICAgICAgd2hlcmU6IHsgdXNlcm5hbWU6IHZhbGlkYXRlZERhdGEudXNlcm5hbWUgfVxuICAgICAgfSlcblxuICAgICAgaWYgKGV4aXN0aW5nVXNlciAmJiBleGlzdGluZ1VzZXIuaWQgIT09IHVzZXJJZCkge1xuICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb248QXBpUmVzcG9uc2U+KHtcbiAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgICBlcnJvcjogJ1VzZXJuYW1lIGlzIGFscmVhZHkgdGFrZW4nXG4gICAgICAgIH0sIHsgc3RhdHVzOiA0MDAgfSlcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBVcGRhdGUgdXNlclxuICAgIGNvbnN0IHVwZGF0ZWRVc2VyID0gYXdhaXQgcHJpc21hLnVzZXIudXBkYXRlKHtcbiAgICAgIHdoZXJlOiB7IGlkOiB1c2VySWQgfSxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgLi4udmFsaWRhdGVkRGF0YSxcbiAgICAgICAgdXBkYXRlZEF0OiBuZXcgRGF0ZSgpXG4gICAgICB9LFxuICAgICAgc2VsZWN0OiB7XG4gICAgICAgIGlkOiB0cnVlLFxuICAgICAgICBlbWFpbDogdHJ1ZSxcbiAgICAgICAgdXNlcm5hbWU6IHRydWUsXG4gICAgICAgIG5hbWU6IHRydWUsXG4gICAgICAgIGF2YXRhclVybDogdHJ1ZSxcbiAgICAgICAgYmlvOiB0cnVlLFxuICAgICAgICBpc1ByaXZhdGU6IHRydWUsXG4gICAgICAgIGNyZWF0ZWRBdDogdHJ1ZSxcbiAgICAgICAgdXBkYXRlZEF0OiB0cnVlXG4gICAgICB9XG4gICAgfSlcblxuICAgIGNvbnN0IHVzZXJQcm9maWxlOiBVc2VyUHJvZmlsZSA9IHtcbiAgICAgIC4uLnVwZGF0ZWRVc2VyLFxuICAgICAgY3JlYXRlZEF0OiB1cGRhdGVkVXNlci5jcmVhdGVkQXQudG9JU09TdHJpbmcoKSxcbiAgICAgIHVwZGF0ZWRBdDogdXBkYXRlZFVzZXIudXBkYXRlZEF0LnRvSVNPU3RyaW5nKClcbiAgICB9XG5cbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb248QXBpUmVzcG9uc2U8VXNlclByb2ZpbGU+Pih7XG4gICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgZGF0YTogdXNlclByb2ZpbGVcbiAgICB9KVxuXG4gIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcbiAgICBjb25zb2xlLmVycm9yKCdVcGRhdGUgdXNlciBlcnJvcjonLCBlcnJvcilcbiAgICBcbiAgICBpZiAoZXJyb3IubmFtZSA9PT0gJ1pvZEVycm9yJykge1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uPEFwaVJlc3BvbnNlPih7XG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICBlcnJvcjogZXJyb3IuZXJyb3JzWzBdPy5tZXNzYWdlIHx8ICdWYWxpZGF0aW9uIGVycm9yJ1xuICAgICAgfSwgeyBzdGF0dXM6IDQwMCB9KVxuICAgIH1cblxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbjxBcGlSZXNwb25zZT4oe1xuICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICBlcnJvcjogJ0ludGVybmFsIHNlcnZlciBlcnJvcidcbiAgICB9LCB7IHN0YXR1czogNTAwIH0pXG4gIH1cbn0iXSwibmFtZXMiOlsiTmV4dFJlc3BvbnNlIiwicHJpc21hIiwiQXV0aFNlcnZpY2UiLCJ1cGRhdGVQcm9maWxlU2NoZW1hIiwiR0VUIiwicmVxdWVzdCIsInBhcmFtcyIsInVzZXJJZCIsImlkIiwiYXV0aEhlYWRlciIsImhlYWRlcnMiLCJnZXQiLCJjdXJyZW50VXNlcklkIiwic3RhcnRzV2l0aCIsInRva2VuIiwic3Vic3RyaW5nIiwicGF5bG9hZCIsInZlcmlmeUFjY2Vzc1Rva2VuIiwidXNlciIsImZpbmRVbmlxdWUiLCJ3aGVyZSIsInNlbGVjdCIsImVtYWlsIiwidXNlcm5hbWUiLCJuYW1lIiwiYXZhdGFyVXJsIiwiYmlvIiwiaXNQcml2YXRlIiwiY3JlYXRlZEF0IiwidXBkYXRlZEF0IiwianNvbiIsInN1Y2Nlc3MiLCJlcnJvciIsInN0YXR1cyIsImZvbGxvd1JlbGF0aW9uIiwiZm9sbG93IiwiZm9sbG93ZXJJZF9mb2xsb3dlZUlkIiwiZm9sbG93ZXJJZCIsImZvbGxvd2VlSWQiLCJsaW1pdGVkUHJvZmlsZSIsInVuZGVmaW5lZCIsInRvSVNPU3RyaW5nIiwiZGF0YSIsInVzZXJQcm9maWxlIiwiY29uc29sZSIsIlBVVCIsImJvZHkiLCJ2YWxpZGF0ZWREYXRhIiwicGFyc2UiLCJleGlzdGluZ1VzZXIiLCJ1cGRhdGVkVXNlciIsInVwZGF0ZSIsIkRhdGUiLCJlcnJvcnMiLCJtZXNzYWdlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/users/[id]/route.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/auth.ts":
/*!*************************!*\
  !*** ./src/lib/auth.ts ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AuthService: () => (/* binding */ AuthService)\n/* harmony export */ });\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jsonwebtoken */ \"(rsc)/./node_modules/jsonwebtoken/index.js\");\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jsonwebtoken__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var bcryptjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! bcryptjs */ \"(rsc)/./node_modules/bcryptjs/index.js\");\n/* harmony import */ var bcryptjs__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(bcryptjs__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _prisma__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./prisma */ \"(rsc)/./src/lib/prisma.ts\");\n\n\n\nconst JWT_SECRET = process.env.JWT_SECRET || \"fallback-secret\";\nconst JWT_REFRESH_SECRET = process.env.JWT_REFRESH_SECRET || \"fallback-refresh-secret\";\nclass AuthService {\n    // Generate access token (24 hours)\n    static generateAccessToken(user) {\n        return jsonwebtoken__WEBPACK_IMPORTED_MODULE_0___default().sign({\n            userId: user.id,\n            email: user.email\n        }, JWT_SECRET, {\n            expiresIn: \"24h\"\n        });\n    }\n    // Generate refresh token (30 days)\n    static generateRefreshToken(user) {\n        return jsonwebtoken__WEBPACK_IMPORTED_MODULE_0___default().sign({\n            userId: user.id,\n            email: user.email\n        }, JWT_REFRESH_SECRET, {\n            expiresIn: \"30d\"\n        });\n    }\n    // Verify access token\n    static verifyAccessToken(token) {\n        try {\n            return jsonwebtoken__WEBPACK_IMPORTED_MODULE_0___default().verify(token, JWT_SECRET);\n        } catch (error) {\n            return null;\n        }\n    }\n    // Verify refresh token\n    static verifyRefreshToken(token) {\n        try {\n            return jsonwebtoken__WEBPACK_IMPORTED_MODULE_0___default().verify(token, JWT_REFRESH_SECRET);\n        } catch (error) {\n            return null;\n        }\n    }\n    // Hash password\n    static async hashPassword(password) {\n        return bcryptjs__WEBPACK_IMPORTED_MODULE_1___default().hash(password, 12);\n    }\n    // Compare password\n    static async comparePassword(password, hashedPassword) {\n        return bcryptjs__WEBPACK_IMPORTED_MODULE_1___default().compare(password, hashedPassword);\n    }\n    // Store refresh token in database\n    static async storeRefreshToken(userId, refreshToken) {\n        const expiresAt = new Date();\n        expiresAt.setDate(expiresAt.getDate() + 30) // 30 days\n        ;\n        await _prisma__WEBPACK_IMPORTED_MODULE_2__.prisma.jWTRefreshToken.create({\n            data: {\n                userId,\n                refreshToken,\n                expiresAt\n            }\n        });\n    }\n    // Validate refresh token from database\n    static async validateRefreshToken(refreshToken) {\n        const tokenRecord = await _prisma__WEBPACK_IMPORTED_MODULE_2__.prisma.jWTRefreshToken.findUnique({\n            where: {\n                refreshToken\n            },\n            include: {\n                user: true\n            }\n        });\n        if (!tokenRecord || tokenRecord.expiresAt < new Date()) {\n            // Clean up expired token\n            if (tokenRecord) {\n                await _prisma__WEBPACK_IMPORTED_MODULE_2__.prisma.jWTRefreshToken.delete({\n                    where: {\n                        id: tokenRecord.id\n                    }\n                });\n            }\n            return null;\n        }\n        return tokenRecord.user;\n    }\n    // Revoke refresh token\n    static async revokeRefreshToken(refreshToken) {\n        await _prisma__WEBPACK_IMPORTED_MODULE_2__.prisma.jWTRefreshToken.deleteMany({\n            where: {\n                refreshToken\n            }\n        });\n    }\n    // Clean expired tokens\n    static async cleanExpiredTokens() {\n        await _prisma__WEBPACK_IMPORTED_MODULE_2__.prisma.jWTRefreshToken.deleteMany({\n            where: {\n                expiresAt: {\n                    lt: new Date()\n                }\n            }\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Q0Y7UUFDRjtJQUNGO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90cmlwdGhyZWFkLWJhY2tlbmQvLi9zcmMvbGliL2F1dGgudHM/NjY5MiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgand0IGZyb20gJ2pzb253ZWJ0b2tlbidcbmltcG9ydCBiY3J5cHQgZnJvbSAnYmNyeXB0anMnXG5pbXBvcnQgeyBwcmlzbWEgfSBmcm9tICcuL3ByaXNtYSdcbmltcG9ydCB7IFVzZXIgfSBmcm9tICdAcHJpc21hL2NsaWVudCdcblxuY29uc3QgSldUX1NFQ1JFVCA9IHByb2Nlc3MuZW52LkpXVF9TRUNSRVQgfHwgJ2ZhbGxiYWNrLXNlY3JldCdcbmNvbnN0IEpXVF9SRUZSRVNIX1NFQ1JFVCA9IHByb2Nlc3MuZW52LkpXVF9SRUZSRVNIX1NFQ1JFVCB8fCAnZmFsbGJhY2stcmVmcmVzaC1zZWNyZXQnXG5cbmV4cG9ydCBpbnRlcmZhY2UgSldUUGF5bG9hZCB7XG4gIHVzZXJJZDogc3RyaW5nXG4gIGVtYWlsOiBzdHJpbmdcbiAgaWF0PzogbnVtYmVyXG4gIGV4cD86IG51bWJlclxufVxuXG5leHBvcnQgY2xhc3MgQXV0aFNlcnZpY2Uge1xuICAvLyBHZW5lcmF0ZSBhY2Nlc3MgdG9rZW4gKDI0IGhvdXJzKVxuICBzdGF0aWMgZ2VuZXJhdGVBY2Nlc3NUb2tlbih1c2VyOiBVc2VyKTogc3RyaW5nIHtcbiAgICByZXR1cm4gand0LnNpZ24oXG4gICAgICB7IHVzZXJJZDogdXNlci5pZCwgZW1haWw6IHVzZXIuZW1haWwgfSxcbiAgICAgIEpXVF9TRUNSRVQsXG4gICAgICB7IGV4cGlyZXNJbjogJzI0aCcgfVxuICAgIClcbiAgfVxuXG4gIC8vIEdlbmVyYXRlIHJlZnJlc2ggdG9rZW4gKDMwIGRheXMpXG4gIHN0YXRpYyBnZW5lcmF0ZVJlZnJlc2hUb2tlbih1c2VyOiBVc2VyKTogc3RyaW5nIHtcbiAgICByZXR1cm4gand0LnNpZ24oXG4gICAgICB7IHVzZXJJZDogdXNlci5pZCwgZW1haWw6IHVzZXIuZW1haWwgfSxcbiAgICAgIEpXVF9SRUZSRVNIX1NFQ1JFVCxcbiAgICAgIHsgZXhwaXJlc0luOiAnMzBkJyB9XG4gICAgKVxuICB9XG5cbiAgLy8gVmVyaWZ5IGFjY2VzcyB0b2tlblxuICBzdGF0aWMgdmVyaWZ5QWNjZXNzVG9rZW4odG9rZW46IHN0cmluZyk6IEpXVFBheWxvYWQgfCBudWxsIHtcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIGp3dC52ZXJpZnkodG9rZW4sIEpXVF9TRUNSRVQpIGFzIEpXVFBheWxvYWRcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgcmV0dXJuIG51bGxcbiAgICB9XG4gIH1cblxuICAvLyBWZXJpZnkgcmVmcmVzaCB0b2tlblxuICBzdGF0aWMgdmVyaWZ5UmVmcmVzaFRva2VuKHRva2VuOiBzdHJpbmcpOiBKV1RQYXlsb2FkIHwgbnVsbCB7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiBqd3QudmVyaWZ5KHRva2VuLCBKV1RfUkVGUkVTSF9TRUNSRVQpIGFzIEpXVFBheWxvYWRcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgcmV0dXJuIG51bGxcbiAgICB9XG4gIH1cblxuICAvLyBIYXNoIHBhc3N3b3JkXG4gIHN0YXRpYyBhc3luYyBoYXNoUGFzc3dvcmQocGFzc3dvcmQ6IHN0cmluZyk6IFByb21pc2U8c3RyaW5nPiB7XG4gICAgcmV0dXJuIGJjcnlwdC5oYXNoKHBhc3N3b3JkLCAxMilcbiAgfVxuXG4gIC8vIENvbXBhcmUgcGFzc3dvcmRcbiAgc3RhdGljIGFzeW5jIGNvbXBhcmVQYXNzd29yZChwYXNzd29yZDogc3RyaW5nLCBoYXNoZWRQYXNzd29yZDogc3RyaW5nKTogUHJvbWlzZTxib29sZWFuPiB7XG4gICAgcmV0dXJuIGJjcnlwdC5jb21wYXJlKHBhc3N3b3JkLCBoYXNoZWRQYXNzd29yZClcbiAgfVxuXG4gIC8vIFN0b3JlIHJlZnJlc2ggdG9rZW4gaW4gZGF0YWJhc2VcbiAgc3RhdGljIGFzeW5jIHN0b3JlUmVmcmVzaFRva2VuKHVzZXJJZDogc3RyaW5nLCByZWZyZXNoVG9rZW46IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xuICAgIGNvbnN0IGV4cGlyZXNBdCA9IG5ldyBEYXRlKClcbiAgICBleHBpcmVzQXQuc2V0RGF0ZShleHBpcmVzQXQuZ2V0RGF0ZSgpICsgMzApIC8vIDMwIGRheXNcblxuICAgIGF3YWl0IHByaXNtYS5qV1RSZWZyZXNoVG9rZW4uY3JlYXRlKHtcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgdXNlcklkLFxuICAgICAgICByZWZyZXNoVG9rZW4sXG4gICAgICAgIGV4cGlyZXNBdFxuICAgICAgfVxuICAgIH0pXG4gIH1cblxuICAvLyBWYWxpZGF0ZSByZWZyZXNoIHRva2VuIGZyb20gZGF0YWJhc2VcbiAgc3RhdGljIGFzeW5jIHZhbGlkYXRlUmVmcmVzaFRva2VuKHJlZnJlc2hUb2tlbjogc3RyaW5nKTogUHJvbWlzZTxVc2VyIHwgbnVsbD4ge1xuICAgIGNvbnN0IHRva2VuUmVjb3JkID0gYXdhaXQgcHJpc21hLmpXVFJlZnJlc2hUb2tlbi5maW5kVW5pcXVlKHtcbiAgICAgIHdoZXJlOiB7IHJlZnJlc2hUb2tlbiB9LFxuICAgICAgaW5jbHVkZTogeyB1c2VyOiB0cnVlIH1cbiAgICB9KVxuXG4gICAgaWYgKCF0b2tlblJlY29yZCB8fCB0b2tlblJlY29yZC5leHBpcmVzQXQgPCBuZXcgRGF0ZSgpKSB7XG4gICAgICAvLyBDbGVhbiB1cCBleHBpcmVkIHRva2VuXG4gICAgICBpZiAodG9rZW5SZWNvcmQpIHtcbiAgICAgICAgYXdhaXQgcHJpc21hLmpXVFJlZnJlc2hUb2tlbi5kZWxldGUoe1xuICAgICAgICAgIHdoZXJlOiB7IGlkOiB0b2tlblJlY29yZC5pZCB9XG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgICByZXR1cm4gbnVsbFxuICAgIH1cblxuICAgIHJldHVybiB0b2tlblJlY29yZC51c2VyXG4gIH1cblxuICAvLyBSZXZva2UgcmVmcmVzaCB0b2tlblxuICBzdGF0aWMgYXN5bmMgcmV2b2tlUmVmcmVzaFRva2VuKHJlZnJlc2hUb2tlbjogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgYXdhaXQgcHJpc21hLmpXVFJlZnJlc2hUb2tlbi5kZWxldGVNYW55KHtcbiAgICAgIHdoZXJlOiB7IHJlZnJlc2hUb2tlbiB9XG4gICAgfSlcbiAgfVxuXG4gIC8vIENsZWFuIGV4cGlyZWQgdG9rZW5zXG4gIHN0YXRpYyBhc3luYyBjbGVhbkV4cGlyZWRUb2tlbnMoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgYXdhaXQgcHJpc21hLmpXVFJlZnJlc2hUb2tlbi5kZWxldGVNYW55KHtcbiAgICAgIHdoZXJlOiB7XG4gICAgICAgIGV4cGlyZXNBdDoge1xuICAgICAgICAgIGx0OiBuZXcgRGF0ZSgpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KVxuICB9XG59Il0sIm5hbWVzIjpbImp3dCIsImJjcnlwdCIsInByaXNtYSIsIkpXVF9TRUNSRVQiLCJwcm9jZXNzIiwiZW52IiwiSldUX1JFRlJFU0hfU0VDUkVUIiwiQXV0aFNlcnZpY2UiLCJnZW5lcmF0ZUFjY2Vzc1Rva2VuIiwidXNlciIsInNpZ24iLCJ1c2VySWQiLCJpZCIsImVtYWlsIiwiZXhwaXJlc0luIiwiZ2VuZXJhdGVSZWZyZXNoVG9rZW4iLCJ2ZXJpZnlBY2Nlc3NUb2tlbiIsInRva2VuIiwidmVyaWZ5IiwiZXJyb3IiLCJ2ZXJpZnlSZWZyZXNoVG9rZW4iLCJoYXNoUGFzc3dvcmQiLCJwYXNzd29yZCIsImhhc2giLCJjb21wYXJlUGFzc3dvcmQiLCJoYXNoZWRQYXNzd29yZCIsImNvbXBhcmUiLCJzdG9yZVJlZnJlc2hUb2tlbiIsInJlZnJlc2hUb2tlbiIsImV4cGlyZXNBdCIsIkRhdGUiLCJzZXREYXRlIiwiZ2V0RGF0ZSIsImpXVFJlZnJlc2hUb2tlbiIsImNyZWF0ZSIsImRhdGEiLCJ2YWxpZGF0ZVJlZnJlc2hUb2tlbiIsInRva2VuUmVjb3JkIiwiZmluZFVuaXF1ZSIsIndoZXJlIiwiaW5jbHVkZSIsImRlbGV0ZSIsInJldm9rZVJlZnJlc2hUb2tlbiIsImRlbGV0ZU1hbnkiLCJjbGVhbkV4cGlyZWRUb2tlbnMiLCJsdCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/auth.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/prisma.ts":
/*!***************************!*\
  !*** ./src/lib/prisma.ts ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   prisma: () => (/* binding */ prisma)\n/* harmony export */ });\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @prisma/client */ \"@prisma/client\");\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_prisma_client__WEBPACK_IMPORTED_MODULE_0__);\n\nconst globalForPrisma = globalThis;\nconst prisma = globalForPrisma.prisma ?? new _prisma_client__WEBPACK_IMPORTED_MODULE_0__.PrismaClient();\nif (true) globalForPrisma.prisma = prisma;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL3ByaXNtYS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBNkM7QUFFN0MsTUFBTUMsa0JBQWtCQztBQUlqQixNQUFNQyxTQUFTRixnQkFBZ0JFLE1BQU0sSUFBSSxJQUFJSCx3REFBWUEsR0FBRTtBQUVsRSxJQUFJSSxJQUF5QixFQUFjSCxnQkFBZ0JFLE1BQU0sR0FBR0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90cmlwdGhyZWFkLWJhY2tlbmQvLi9zcmMvbGliL3ByaXNtYS50cz8wMWQ3Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFByaXNtYUNsaWVudCB9IGZyb20gJ0BwcmlzbWEvY2xpZW50J1xuXG5jb25zdCBnbG9iYWxGb3JQcmlzbWEgPSBnbG9iYWxUaGlzIGFzIHVua25vd24gYXMge1xuICBwcmlzbWE6IFByaXNtYUNsaWVudCB8IHVuZGVmaW5lZFxufVxuXG5leHBvcnQgY29uc3QgcHJpc21hID0gZ2xvYmFsRm9yUHJpc21hLnByaXNtYSA/PyBuZXcgUHJpc21hQ2xpZW50KClcblxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIGdsb2JhbEZvclByaXNtYS5wcmlzbWEgPSBwcmlzbWEiXSwibmFtZXMiOlsiUHJpc21hQ2xpZW50IiwiZ2xvYmFsRm9yUHJpc21hIiwiZ2xvYmFsVGhpcyIsInByaXNtYSIsInByb2Nlc3MiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/prisma.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/validation.ts":
/*!*******************************!*\
  !*** ./src/lib/validation.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   addParticipantSchema: () => (/* binding */ addParticipantSchema),\n/* harmony export */   createThreadEntrySchema: () => (/* binding */ createThreadEntrySchema),\n/* harmony export */   createTripSchema: () => (/* binding */ createTripSchema),\n/* harmony export */   fileUploadSchema: () => (/* binding */ fileUploadSchema),\n/* harmony export */   loginSchema: () => (/* binding */ loginSchema),\n/* harmony export */   paginationSchema: () => (/* binding */ paginationSchema),\n/* harmony export */   rateLimitSchema: () => (/* binding */ rateLimitSchema),\n/* harmony export */   signupSchema: () => (/* binding */ signupSchema),\n/* harmony export */   tripFilterSchema: () => (/* binding */ tripFilterSchema),\n/* harmony export */   updateFinalPostSchema: () => (/* binding */ updateFinalPostSchema),\n/* harmony export */   updateProfileSchema: () => (/* binding */ updateProfileSchema)\n/* harmony export */ });\n/* harmony import */ var zod__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! zod */ \"(rsc)/./node_modules/zod/dist/esm/index.js\");\n\n// Enhanced validation schemas with better error messages and security\nconst signupSchema = zod__WEBPACK_IMPORTED_MODULE_0__.z.object({\n    email: zod__WEBPACK_IMPORTED_MODULE_0__.z.string().email(\"Please enter a valid email address\").max(255, \"Email must be less than 255 characters\").transform((email)=>email.toLowerCase().trim()),\n    password: zod__WEBPACK_IMPORTED_MODULE_0__.z.string().min(8, \"Password must be at least 8 characters\").max(128, \"Password must be less than 128 characters\").regex(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)/, \"Password must contain at least one lowercase letter, one uppercase letter, and one number\"),\n    name: zod__WEBPACK_IMPORTED_MODULE_0__.z.string().min(2, \"Name must be at least 2 characters\").max(100, \"Name must be less than 100 characters\").regex(/^[a-zA-Z\\s'-]+$/, \"Name can only contain letters, spaces, hyphens, and apostrophes\").transform((name)=>name.trim()),\n    username: zod__WEBPACK_IMPORTED_MODULE_0__.z.string().min(3, \"Username must be at least 3 characters\").max(30, \"Username must be less than 30 characters\").regex(/^[a-zA-Z0-9_]+$/, \"Username can only contain letters, numbers, and underscores\").transform((username)=>username.toLowerCase().trim()).optional()\n});\nconst loginSchema = zod__WEBPACK_IMPORTED_MODULE_0__.z.object({\n    email: zod__WEBPACK_IMPORTED_MODULE_0__.z.string().email(\"Please enter a valid email address\").transform((email)=>email.toLowerCase().trim()),\n    password: zod__WEBPACK_IMPORTED_MODULE_0__.z.string().min(1, \"Password is required\").max(128, \"Password is too long\")\n});\nconst updateProfileSchema = zod__WEBPACK_IMPORTED_MODULE_0__.z.object({\n    name: zod__WEBPACK_IMPORTED_MODULE_0__.z.string().min(2, \"Name must be at least 2 characters\").max(100, \"Name must be less than 100 characters\").regex(/^[a-zA-Z\\s'-]+$/, \"Name can only contain letters, spaces, hyphens, and apostrophes\").transform((name)=>name.trim()).optional(),\n    username: zod__WEBPACK_IMPORTED_MODULE_0__.z.string().min(3, \"Username must be at least 3 characters\").max(30, \"Username must be less than 30 characters\").regex(/^[a-zA-Z0-9_]+$/, \"Username can only contain letters, numbers, and underscores\").transform((username)=>username.toLowerCase().trim()).optional(),\n    bio: zod__WEBPACK_IMPORTED_MODULE_0__.z.string().max(500, \"Bio must be less than 500 characters\").transform((bio)=>bio.trim()).optional(),\n    avatarUrl: zod__WEBPACK_IMPORTED_MODULE_0__.z.string().url(\"Please enter a valid URL\").max(2048, \"URL is too long\").optional()\n});\n// Trip validation schemas with enhanced security\nconst createTripSchema = zod__WEBPACK_IMPORTED_MODULE_0__.z.object({\n    title: zod__WEBPACK_IMPORTED_MODULE_0__.z.string().min(1, \"Title is required\").max(100, \"Title must be less than 100 characters\").transform((title)=>title.trim()),\n    description: zod__WEBPACK_IMPORTED_MODULE_0__.z.string().max(500, \"Description must be less than 500 characters\").transform((desc)=>desc.trim()).optional(),\n    startDate: zod__WEBPACK_IMPORTED_MODULE_0__.z.string().datetime(\"Invalid start date format\").optional().refine((date)=>{\n        if (!date) return true;\n        const startDate = new Date(date);\n        const now = new Date();\n        now.setHours(0, 0, 0, 0) // Start of today\n        ;\n        return startDate >= now;\n    }, \"Start date cannot be in the past\"),\n    endDate: zod__WEBPACK_IMPORTED_MODULE_0__.z.string().datetime(\"Invalid end date format\").optional(),\n    destinations: zod__WEBPACK_IMPORTED_MODULE_0__.z.array(zod__WEBPACK_IMPORTED_MODULE_0__.z.string().min(1, \"Destination cannot be empty\").max(100, \"Destination name is too long\").transform((dest)=>dest.trim())).min(1, \"At least one destination is required\").max(10, \"Maximum 10 destinations allowed\"),\n    mood: zod__WEBPACK_IMPORTED_MODULE_0__.z[\"enum\"]([\n        \"RELAXED\",\n        \"ADVENTURE\",\n        \"SPIRITUAL\",\n        \"CULTURAL\",\n        \"PARTY\",\n        \"MIXED\"\n    ]).optional(),\n    type: zod__WEBPACK_IMPORTED_MODULE_0__.z[\"enum\"]([\n        \"SOLO\",\n        \"GROUP\",\n        \"COUPLE\",\n        \"FAMILY\"\n    ]).optional(),\n    coverMediaUrl: zod__WEBPACK_IMPORTED_MODULE_0__.z.string().url(\"Please enter a valid URL\").max(2048, \"URL is too long\").optional()\n}).refine((data)=>{\n    if (data.startDate && data.endDate) {\n        return new Date(data.startDate) <= new Date(data.endDate);\n    }\n    return true;\n}, {\n    message: \"End date must be after start date\",\n    path: [\n        \"endDate\"\n    ]\n});\nconst createThreadEntrySchema = zod__WEBPACK_IMPORTED_MODULE_0__.z.object({\n    type: zod__WEBPACK_IMPORTED_MODULE_0__.z[\"enum\"]([\n        \"TEXT\",\n        \"MEDIA\",\n        \"LOCATION\",\n        \"CHECKIN\"\n    ]),\n    contentText: zod__WEBPACK_IMPORTED_MODULE_0__.z.string().max(1000, \"Content must be less than 1000 characters\").transform((text)=>text.trim()).optional(),\n    mediaUrl: zod__WEBPACK_IMPORTED_MODULE_0__.z.string().url(\"Please enter a valid media URL\").max(2048, \"URL is too long\").optional(),\n    locationName: zod__WEBPACK_IMPORTED_MODULE_0__.z.string().max(200, \"Location name must be less than 200 characters\").transform((name)=>name.trim()).optional(),\n    gpsCoordinates: zod__WEBPACK_IMPORTED_MODULE_0__.z.object({\n        lat: zod__WEBPACK_IMPORTED_MODULE_0__.z.number().min(-90, \"Latitude must be between -90 and 90\").max(90, \"Latitude must be between -90 and 90\"),\n        lng: zod__WEBPACK_IMPORTED_MODULE_0__.z.number().min(-180, \"Longitude must be between -180 and 180\").max(180, \"Longitude must be between -180 and 180\")\n    }).optional(),\n    taggedUserIds: zod__WEBPACK_IMPORTED_MODULE_0__.z.array(zod__WEBPACK_IMPORTED_MODULE_0__.z.string().uuid(\"Invalid user ID format\")).max(10, \"Maximum 10 users can be tagged\").optional()\n}).refine((data)=>{\n    // Type-specific validation\n    switch(data.type){\n        case \"TEXT\":\n            return data.contentText && data.contentText.length > 0;\n        case \"MEDIA\":\n            return data.mediaUrl && data.mediaUrl.length > 0;\n        case \"LOCATION\":\n            return data.locationName && data.locationName.length > 0;\n        case \"CHECKIN\":\n            return data.locationName && data.locationName.length > 0;\n        default:\n            return false;\n    }\n}, {\n    message: \"Required fields missing for entry type\"\n});\nconst addParticipantSchema = zod__WEBPACK_IMPORTED_MODULE_0__.z.object({\n    userId: zod__WEBPACK_IMPORTED_MODULE_0__.z.string().uuid(\"Invalid user ID format\"),\n    role: zod__WEBPACK_IMPORTED_MODULE_0__.z.string().max(50, \"Role name is too long\").regex(/^[a-zA-Z_]+$/, \"Role can only contain letters and underscores\").optional()\n});\nconst updateFinalPostSchema = zod__WEBPACK_IMPORTED_MODULE_0__.z.object({\n    summaryText: zod__WEBPACK_IMPORTED_MODULE_0__.z.string().min(1, \"Summary text is required\").max(2000, \"Summary must be less than 2000 characters\").transform((text)=>text.trim()),\n    curatedMedia: zod__WEBPACK_IMPORTED_MODULE_0__.z.array(zod__WEBPACK_IMPORTED_MODULE_0__.z.string().url(\"Invalid media URL\")).max(20, \"Maximum 20 media items allowed\"),\n    caption: zod__WEBPACK_IMPORTED_MODULE_0__.z.string().max(500, \"Caption must be less than 500 characters\").transform((caption)=>caption.trim()).optional()\n});\n// Pagination schema\nconst paginationSchema = zod__WEBPACK_IMPORTED_MODULE_0__.z.object({\n    page: zod__WEBPACK_IMPORTED_MODULE_0__.z.string().regex(/^\\d+$/, \"Page must be a number\").transform(Number).refine((n)=>n >= 1, \"Page must be at least 1\").default(\"1\"),\n    limit: zod__WEBPACK_IMPORTED_MODULE_0__.z.string().regex(/^\\d+$/, \"Limit must be a number\").transform(Number).refine((n)=>n >= 1 && n <= 100, \"Limit must be between 1 and 100\").default(\"20\")\n});\n// File upload validation\nconst fileUploadSchema = zod__WEBPACK_IMPORTED_MODULE_0__.z.object({\n    filename: zod__WEBPACK_IMPORTED_MODULE_0__.z.string().min(1, \"Filename is required\").max(255, \"Filename is too long\").regex(/^[a-zA-Z0-9._-]+$/, \"Invalid filename format\"),\n    contentType: zod__WEBPACK_IMPORTED_MODULE_0__.z.string().regex(/^(image|video)\\/(jpeg|jpg|png|gif|mp4|mov|avi)$/, \"Unsupported file type\"),\n    size: zod__WEBPACK_IMPORTED_MODULE_0__.z.number().min(1, \"File cannot be empty\").max(50 * 1024 * 1024, \"File size cannot exceed 50MB\") // 50MB limit\n});\n// Search and filter schemas\nconst tripFilterSchema = zod__WEBPACK_IMPORTED_MODULE_0__.z.object({\n    status: zod__WEBPACK_IMPORTED_MODULE_0__.z[\"enum\"]([\n        \"UPCOMING\",\n        \"ONGOING\",\n        \"ENDED\"\n    ]).optional(),\n    mood: zod__WEBPACK_IMPORTED_MODULE_0__.z[\"enum\"]([\n        \"RELAXED\",\n        \"ADVENTURE\",\n        \"SPIRITUAL\",\n        \"CULTURAL\",\n        \"PARTY\",\n        \"MIXED\"\n    ]).optional(),\n    type: zod__WEBPACK_IMPORTED_MODULE_0__.z[\"enum\"]([\n        \"SOLO\",\n        \"GROUP\",\n        \"COUPLE\",\n        \"FAMILY\"\n    ]).optional(),\n    startDate: zod__WEBPACK_IMPORTED_MODULE_0__.z.string().datetime().optional(),\n    endDate: zod__WEBPACK_IMPORTED_MODULE_0__.z.string().datetime().optional()\n});\n// Rate limiting validation\nconst rateLimitSchema = zod__WEBPACK_IMPORTED_MODULE_0__.z.object({\n    maxRequests: zod__WEBPACK_IMPORTED_MODULE_0__.z.number().min(1).max(1000).default(100),\n    windowMs: zod__WEBPACK_IMPORTED_MODULE_0__.z.number().min(1000).max(3600000).default(60000) // 1 second to 1 hour\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUM7UUFBWTtRQUFXO0tBQVEsRUFBRWMsUUFBUTtJQUN6RHFCLE1BQU1uQywwQ0FBTSxDQUFDO1FBQUM7UUFBVztRQUFhO1FBQWE7UUFBWTtRQUFTO0tBQVEsRUFBRWMsUUFBUTtJQUMxRnVCLE1BQU1yQywwQ0FBTSxDQUFDO1FBQUM7UUFBUTtRQUFTO1FBQVU7S0FBUyxFQUFFYyxRQUFRO0lBQzVEVSxXQUFXeEIseUNBQVEsR0FBR3lCLFFBQVEsR0FBR1gsUUFBUTtJQUN6Q2lCLFNBQVMvQix5Q0FBUSxHQUFHeUIsUUFBUSxHQUFHWCxRQUFRO0FBQ3pDLEdBQUU7QUFFRiwyQkFBMkI7QUFDcEIsTUFBTTJELGtCQUFrQnpFLHlDQUFRLENBQUM7SUFDdEMwRSxhQUFhMUUseUNBQVEsR0FBR1UsR0FBRyxDQUFDLEdBQUdMLEdBQUcsQ0FBQyxNQUFNNEQsT0FBTyxDQUFDO0lBQ2pEVSxVQUFVM0UseUNBQVEsR0FBR1UsR0FBRyxDQUFDLE1BQU1MLEdBQUcsQ0FBQyxTQUFTNEQsT0FBTyxDQUFDLE9BQU8scUJBQXFCO0FBQ2xGLEdBQUUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90cmlwdGhyZWFkLWJhY2tlbmQvLi9zcmMvbGliL3ZhbGlkYXRpb24udHM/NDYwZiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB6IH0gZnJvbSAnem9kJ1xuXG4vLyBFbmhhbmNlZCB2YWxpZGF0aW9uIHNjaGVtYXMgd2l0aCBiZXR0ZXIgZXJyb3IgbWVzc2FnZXMgYW5kIHNlY3VyaXR5XG5leHBvcnQgY29uc3Qgc2lnbnVwU2NoZW1hID0gei5vYmplY3Qoe1xuICBlbWFpbDogei5zdHJpbmcoKVxuICAgIC5lbWFpbCgnUGxlYXNlIGVudGVyIGEgdmFsaWQgZW1haWwgYWRkcmVzcycpXG4gICAgLm1heCgyNTUsICdFbWFpbCBtdXN0IGJlIGxlc3MgdGhhbiAyNTUgY2hhcmFjdGVycycpXG4gICAgLnRyYW5zZm9ybShlbWFpbCA9PiBlbWFpbC50b0xvd2VyQ2FzZSgpLnRyaW0oKSksXG4gIHBhc3N3b3JkOiB6LnN0cmluZygpXG4gICAgLm1pbig4LCAnUGFzc3dvcmQgbXVzdCBiZSBhdCBsZWFzdCA4IGNoYXJhY3RlcnMnKVxuICAgIC5tYXgoMTI4LCAnUGFzc3dvcmQgbXVzdCBiZSBsZXNzIHRoYW4gMTI4IGNoYXJhY3RlcnMnKVxuICAgIC5yZWdleCgvXig/PS4qW2Etel0pKD89LipbQS1aXSkoPz0uKlxcZCkvLCAnUGFzc3dvcmQgbXVzdCBjb250YWluIGF0IGxlYXN0IG9uZSBsb3dlcmNhc2UgbGV0dGVyLCBvbmUgdXBwZXJjYXNlIGxldHRlciwgYW5kIG9uZSBudW1iZXInKSxcbiAgbmFtZTogei5zdHJpbmcoKVxuICAgIC5taW4oMiwgJ05hbWUgbXVzdCBiZSBhdCBsZWFzdCAyIGNoYXJhY3RlcnMnKVxuICAgIC5tYXgoMTAwLCAnTmFtZSBtdXN0IGJlIGxlc3MgdGhhbiAxMDAgY2hhcmFjdGVycycpXG4gICAgLnJlZ2V4KC9eW2EtekEtWlxccyctXSskLywgJ05hbWUgY2FuIG9ubHkgY29udGFpbiBsZXR0ZXJzLCBzcGFjZXMsIGh5cGhlbnMsIGFuZCBhcG9zdHJvcGhlcycpXG4gICAgLnRyYW5zZm9ybShuYW1lID0+IG5hbWUudHJpbSgpKSxcbiAgdXNlcm5hbWU6IHouc3RyaW5nKClcbiAgICAubWluKDMsICdVc2VybmFtZSBtdXN0IGJlIGF0IGxlYXN0IDMgY2hhcmFjdGVycycpXG4gICAgLm1heCgzMCwgJ1VzZXJuYW1lIG11c3QgYmUgbGVzcyB0aGFuIDMwIGNoYXJhY3RlcnMnKVxuICAgIC5yZWdleCgvXlthLXpBLVowLTlfXSskLywgJ1VzZXJuYW1lIGNhbiBvbmx5IGNvbnRhaW4gbGV0dGVycywgbnVtYmVycywgYW5kIHVuZGVyc2NvcmVzJylcbiAgICAudHJhbnNmb3JtKHVzZXJuYW1lID0+IHVzZXJuYW1lLnRvTG93ZXJDYXNlKCkudHJpbSgpKVxuICAgIC5vcHRpb25hbCgpXG59KVxuXG5leHBvcnQgY29uc3QgbG9naW5TY2hlbWEgPSB6Lm9iamVjdCh7XG4gIGVtYWlsOiB6LnN0cmluZygpXG4gICAgLmVtYWlsKCdQbGVhc2UgZW50ZXIgYSB2YWxpZCBlbWFpbCBhZGRyZXNzJylcbiAgICAudHJhbnNmb3JtKGVtYWlsID0+IGVtYWlsLnRvTG93ZXJDYXNlKCkudHJpbSgpKSxcbiAgcGFzc3dvcmQ6IHouc3RyaW5nKClcbiAgICAubWluKDEsICdQYXNzd29yZCBpcyByZXF1aXJlZCcpXG4gICAgLm1heCgxMjgsICdQYXNzd29yZCBpcyB0b28gbG9uZycpXG59KVxuXG5leHBvcnQgY29uc3QgdXBkYXRlUHJvZmlsZVNjaGVtYSA9IHoub2JqZWN0KHtcbiAgbmFtZTogei5zdHJpbmcoKVxuICAgIC5taW4oMiwgJ05hbWUgbXVzdCBiZSBhdCBsZWFzdCAyIGNoYXJhY3RlcnMnKVxuICAgIC5tYXgoMTAwLCAnTmFtZSBtdXN0IGJlIGxlc3MgdGhhbiAxMDAgY2hhcmFjdGVycycpXG4gICAgLnJlZ2V4KC9eW2EtekEtWlxccyctXSskLywgJ05hbWUgY2FuIG9ubHkgY29udGFpbiBsZXR0ZXJzLCBzcGFjZXMsIGh5cGhlbnMsIGFuZCBhcG9zdHJvcGhlcycpXG4gICAgLnRyYW5zZm9ybShuYW1lID0+IG5hbWUudHJpbSgpKVxuICAgIC5vcHRpb25hbCgpLFxuICB1c2VybmFtZTogei5zdHJpbmcoKVxuICAgIC5taW4oMywgJ1VzZXJuYW1lIG11c3QgYmUgYXQgbGVhc3QgMyBjaGFyYWN0ZXJzJylcbiAgICAubWF4KDMwLCAnVXNlcm5hbWUgbXVzdCBiZSBsZXNzIHRoYW4gMzAgY2hhcmFjdGVycycpXG4gICAgLnJlZ2V4KC9eW2EtekEtWjAtOV9dKyQvLCAnVXNlcm5hbWUgY2FuIG9ubHkgY29udGFpbiBsZXR0ZXJzLCBudW1iZXJzLCBhbmQgdW5kZXJzY29yZXMnKVxuICAgIC50cmFuc2Zvcm0odXNlcm5hbWUgPT4gdXNlcm5hbWUudG9Mb3dlckNhc2UoKS50cmltKCkpXG4gICAgLm9wdGlvbmFsKCksXG4gIGJpbzogei5zdHJpbmcoKVxuICAgIC5tYXgoNTAwLCAnQmlvIG11c3QgYmUgbGVzcyB0aGFuIDUwMCBjaGFyYWN0ZXJzJylcbiAgICAudHJhbnNmb3JtKGJpbyA9PiBiaW8udHJpbSgpKVxuICAgIC5vcHRpb25hbCgpLFxuICBhdmF0YXJVcmw6IHouc3RyaW5nKClcbiAgICAudXJsKCdQbGVhc2UgZW50ZXIgYSB2YWxpZCBVUkwnKVxuICAgIC5tYXgoMjA0OCwgJ1VSTCBpcyB0b28gbG9uZycpXG4gICAgLm9wdGlvbmFsKClcbn0pXG5cbi8vIFRyaXAgdmFsaWRhdGlvbiBzY2hlbWFzIHdpdGggZW5oYW5jZWQgc2VjdXJpdHlcbmV4cG9ydCBjb25zdCBjcmVhdGVUcmlwU2NoZW1hID0gei5vYmplY3Qoe1xuICB0aXRsZTogei5zdHJpbmcoKVxuICAgIC5taW4oMSwgJ1RpdGxlIGlzIHJlcXVpcmVkJylcbiAgICAubWF4KDEwMCwgJ1RpdGxlIG11c3QgYmUgbGVzcyB0aGFuIDEwMCBjaGFyYWN0ZXJzJylcbiAgICAudHJhbnNmb3JtKHRpdGxlID0+IHRpdGxlLnRyaW0oKSksXG4gIGRlc2NyaXB0aW9uOiB6LnN0cmluZygpXG4gICAgLm1heCg1MDAsICdEZXNjcmlwdGlvbiBtdXN0IGJlIGxlc3MgdGhhbiA1MDAgY2hhcmFjdGVycycpXG4gICAgLnRyYW5zZm9ybShkZXNjID0+IGRlc2MudHJpbSgpKVxuICAgIC5vcHRpb25hbCgpLFxuICBzdGFydERhdGU6IHouc3RyaW5nKClcbiAgICAuZGF0ZXRpbWUoJ0ludmFsaWQgc3RhcnQgZGF0ZSBmb3JtYXQnKVxuICAgIC5vcHRpb25hbCgpXG4gICAgLnJlZmluZSgoZGF0ZSkgPT4ge1xuICAgICAgaWYgKCFkYXRlKSByZXR1cm4gdHJ1ZVxuICAgICAgY29uc3Qgc3RhcnREYXRlID0gbmV3IERhdGUoZGF0ZSlcbiAgICAgIGNvbnN0IG5vdyA9IG5ldyBEYXRlKClcbiAgICAgIG5vdy5zZXRIb3VycygwLCAwLCAwLCAwKSAvLyBTdGFydCBvZiB0b2RheVxuICAgICAgcmV0dXJuIHN0YXJ0RGF0ZSA+PSBub3dcbiAgICB9LCAnU3RhcnQgZGF0ZSBjYW5ub3QgYmUgaW4gdGhlIHBhc3QnKSxcbiAgZW5kRGF0ZTogei5zdHJpbmcoKVxuICAgIC5kYXRldGltZSgnSW52YWxpZCBlbmQgZGF0ZSBmb3JtYXQnKVxuICAgIC5vcHRpb25hbCgpLFxuICBkZXN0aW5hdGlvbnM6IHouYXJyYXkoXG4gICAgei5zdHJpbmcoKVxuICAgICAgLm1pbigxLCAnRGVzdGluYXRpb24gY2Fubm90IGJlIGVtcHR5JylcbiAgICAgIC5tYXgoMTAwLCAnRGVzdGluYXRpb24gbmFtZSBpcyB0b28gbG9uZycpXG4gICAgICAudHJhbnNmb3JtKGRlc3QgPT4gZGVzdC50cmltKCkpXG4gIClcbiAgICAubWluKDEsICdBdCBsZWFzdCBvbmUgZGVzdGluYXRpb24gaXMgcmVxdWlyZWQnKVxuICAgIC5tYXgoMTAsICdNYXhpbXVtIDEwIGRlc3RpbmF0aW9ucyBhbGxvd2VkJyksXG4gIG1vb2Q6IHouZW51bShbJ1JFTEFYRUQnLCAnQURWRU5UVVJFJywgJ1NQSVJJVFVBTCcsICdDVUxUVVJBTCcsICdQQVJUWScsICdNSVhFRCddKS5vcHRpb25hbCgpLFxuICB0eXBlOiB6LmVudW0oWydTT0xPJywgJ0dST1VQJywgJ0NPVVBMRScsICdGQU1JTFknXSkub3B0aW9uYWwoKSxcbiAgY292ZXJNZWRpYVVybDogei5zdHJpbmcoKVxuICAgIC51cmwoJ1BsZWFzZSBlbnRlciBhIHZhbGlkIFVSTCcpXG4gICAgLm1heCgyMDQ4LCAnVVJMIGlzIHRvbyBsb25nJylcbiAgICAub3B0aW9uYWwoKVxufSkucmVmaW5lKChkYXRhKSA9PiB7XG4gIGlmIChkYXRhLnN0YXJ0RGF0ZSAmJiBkYXRhLmVuZERhdGUpIHtcbiAgICByZXR1cm4gbmV3IERhdGUoZGF0YS5zdGFydERhdGUpIDw9IG5ldyBEYXRlKGRhdGEuZW5kRGF0ZSlcbiAgfVxuICByZXR1cm4gdHJ1ZVxufSwge1xuICBtZXNzYWdlOiAnRW5kIGRhdGUgbXVzdCBiZSBhZnRlciBzdGFydCBkYXRlJyxcbiAgcGF0aDogWydlbmREYXRlJ11cbn0pXG5cbmV4cG9ydCBjb25zdCBjcmVhdGVUaHJlYWRFbnRyeVNjaGVtYSA9IHoub2JqZWN0KHtcbiAgdHlwZTogei5lbnVtKFsnVEVYVCcsICdNRURJQScsICdMT0NBVElPTicsICdDSEVDS0lOJ10pLFxuICBjb250ZW50VGV4dDogei5zdHJpbmcoKVxuICAgIC5tYXgoMTAwMCwgJ0NvbnRlbnQgbXVzdCBiZSBsZXNzIHRoYW4gMTAwMCBjaGFyYWN0ZXJzJylcbiAgICAudHJhbnNmb3JtKHRleHQgPT4gdGV4dC50cmltKCkpXG4gICAgLm9wdGlvbmFsKCksXG4gIG1lZGlhVXJsOiB6LnN0cmluZygpXG4gICAgLnVybCgnUGxlYXNlIGVudGVyIGEgdmFsaWQgbWVkaWEgVVJMJylcbiAgICAubWF4KDIwNDgsICdVUkwgaXMgdG9vIGxvbmcnKVxuICAgIC5vcHRpb25hbCgpLFxuICBsb2NhdGlvbk5hbWU6IHouc3RyaW5nKClcbiAgICAubWF4KDIwMCwgJ0xvY2F0aW9uIG5hbWUgbXVzdCBiZSBsZXNzIHRoYW4gMjAwIGNoYXJhY3RlcnMnKVxuICAgIC50cmFuc2Zvcm0obmFtZSA9PiBuYW1lLnRyaW0oKSlcbiAgICAub3B0aW9uYWwoKSxcbiAgZ3BzQ29vcmRpbmF0ZXM6IHoub2JqZWN0KHtcbiAgICBsYXQ6IHoubnVtYmVyKClcbiAgICAgIC5taW4oLTkwLCAnTGF0aXR1ZGUgbXVzdCBiZSBiZXR3ZWVuIC05MCBhbmQgOTAnKVxuICAgICAgLm1heCg5MCwgJ0xhdGl0dWRlIG11c3QgYmUgYmV0d2VlbiAtOTAgYW5kIDkwJyksXG4gICAgbG5nOiB6Lm51bWJlcigpXG4gICAgICAubWluKC0xODAsICdMb25naXR1ZGUgbXVzdCBiZSBiZXR3ZWVuIC0xODAgYW5kIDE4MCcpXG4gICAgICAubWF4KDE4MCwgJ0xvbmdpdHVkZSBtdXN0IGJlIGJldHdlZW4gLTE4MCBhbmQgMTgwJylcbiAgfSkub3B0aW9uYWwoKSxcbiAgdGFnZ2VkVXNlcklkczogei5hcnJheShcbiAgICB6LnN0cmluZygpLnV1aWQoJ0ludmFsaWQgdXNlciBJRCBmb3JtYXQnKVxuICApXG4gICAgLm1heCgxMCwgJ01heGltdW0gMTAgdXNlcnMgY2FuIGJlIHRhZ2dlZCcpXG4gICAgLm9wdGlvbmFsKClcbn0pLnJlZmluZSgoZGF0YSkgPT4ge1xuICAvLyBUeXBlLXNwZWNpZmljIHZhbGlkYXRpb25cbiAgc3dpdGNoIChkYXRhLnR5cGUpIHtcbiAgICBjYXNlICdURVhUJzpcbiAgICAgIHJldHVybiBkYXRhLmNvbnRlbnRUZXh0ICYmIGRhdGEuY29udGVudFRleHQubGVuZ3RoID4gMFxuICAgIGNhc2UgJ01FRElBJzpcbiAgICAgIHJldHVybiBkYXRhLm1lZGlhVXJsICYmIGRhdGEubWVkaWFVcmwubGVuZ3RoID4gMFxuICAgIGNhc2UgJ0xPQ0FUSU9OJzpcbiAgICAgIHJldHVybiBkYXRhLmxvY2F0aW9uTmFtZSAmJiBkYXRhLmxvY2F0aW9uTmFtZS5sZW5ndGggPiAwXG4gICAgY2FzZSAnQ0hFQ0tJTic6XG4gICAgICByZXR1cm4gZGF0YS5sb2NhdGlvbk5hbWUgJiYgZGF0YS5sb2NhdGlvbk5hbWUubGVuZ3RoID4gMFxuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gZmFsc2VcbiAgfVxufSwge1xuICBtZXNzYWdlOiAnUmVxdWlyZWQgZmllbGRzIG1pc3NpbmcgZm9yIGVudHJ5IHR5cGUnXG59KVxuXG5leHBvcnQgY29uc3QgYWRkUGFydGljaXBhbnRTY2hlbWEgPSB6Lm9iamVjdCh7XG4gIHVzZXJJZDogei5zdHJpbmcoKS51dWlkKCdJbnZhbGlkIHVzZXIgSUQgZm9ybWF0JyksXG4gIHJvbGU6IHouc3RyaW5nKClcbiAgICAubWF4KDUwLCAnUm9sZSBuYW1lIGlzIHRvbyBsb25nJylcbiAgICAucmVnZXgoL15bYS16QS1aX10rJC8sICdSb2xlIGNhbiBvbmx5IGNvbnRhaW4gbGV0dGVycyBhbmQgdW5kZXJzY29yZXMnKVxuICAgIC5vcHRpb25hbCgpXG59KVxuXG5leHBvcnQgY29uc3QgdXBkYXRlRmluYWxQb3N0U2NoZW1hID0gei5vYmplY3Qoe1xuICBzdW1tYXJ5VGV4dDogei5zdHJpbmcoKVxuICAgIC5taW4oMSwgJ1N1bW1hcnkgdGV4dCBpcyByZXF1aXJlZCcpXG4gICAgLm1heCgyMDAwLCAnU3VtbWFyeSBtdXN0IGJlIGxlc3MgdGhhbiAyMDAwIGNoYXJhY3RlcnMnKVxuICAgIC50cmFuc2Zvcm0odGV4dCA9PiB0ZXh0LnRyaW0oKSksXG4gIGN1cmF0ZWRNZWRpYTogei5hcnJheShcbiAgICB6LnN0cmluZygpLnVybCgnSW52YWxpZCBtZWRpYSBVUkwnKVxuICApXG4gICAgLm1heCgyMCwgJ01heGltdW0gMjAgbWVkaWEgaXRlbXMgYWxsb3dlZCcpLFxuICBjYXB0aW9uOiB6LnN0cmluZygpXG4gICAgLm1heCg1MDAsICdDYXB0aW9uIG11c3QgYmUgbGVzcyB0aGFuIDUwMCBjaGFyYWN0ZXJzJylcbiAgICAudHJhbnNmb3JtKGNhcHRpb24gPT4gY2FwdGlvbi50cmltKCkpXG4gICAgLm9wdGlvbmFsKClcbn0pXG5cbi8vIFBhZ2luYXRpb24gc2NoZW1hXG5leHBvcnQgY29uc3QgcGFnaW5hdGlvblNjaGVtYSA9IHoub2JqZWN0KHtcbiAgcGFnZTogei5zdHJpbmcoKVxuICAgIC5yZWdleCgvXlxcZCskLywgJ1BhZ2UgbXVzdCBiZSBhIG51bWJlcicpXG4gICAgLnRyYW5zZm9ybShOdW1iZXIpXG4gICAgLnJlZmluZShuID0+IG4gPj0gMSwgJ1BhZ2UgbXVzdCBiZSBhdCBsZWFzdCAxJylcbiAgICAuZGVmYXVsdCgnMScpLFxuICBsaW1pdDogei5zdHJpbmcoKVxuICAgIC5yZWdleCgvXlxcZCskLywgJ0xpbWl0IG11c3QgYmUgYSBudW1iZXInKVxuICAgIC50cmFuc2Zvcm0oTnVtYmVyKVxuICAgIC5yZWZpbmUobiA9PiBuID49IDEgJiYgbiA8PSAxMDAsICdMaW1pdCBtdXN0IGJlIGJldHdlZW4gMSBhbmQgMTAwJylcbiAgICAuZGVmYXVsdCgnMjAnKVxufSlcblxuLy8gRmlsZSB1cGxvYWQgdmFsaWRhdGlvblxuZXhwb3J0IGNvbnN0IGZpbGVVcGxvYWRTY2hlbWEgPSB6Lm9iamVjdCh7XG4gIGZpbGVuYW1lOiB6LnN0cmluZygpXG4gICAgLm1pbigxLCAnRmlsZW5hbWUgaXMgcmVxdWlyZWQnKVxuICAgIC5tYXgoMjU1LCAnRmlsZW5hbWUgaXMgdG9vIGxvbmcnKVxuICAgIC5yZWdleCgvXlthLXpBLVowLTkuXy1dKyQvLCAnSW52YWxpZCBmaWxlbmFtZSBmb3JtYXQnKSxcbiAgY29udGVudFR5cGU6IHouc3RyaW5nKClcbiAgICAucmVnZXgoL14oaW1hZ2V8dmlkZW8pXFwvKGpwZWd8anBnfHBuZ3xnaWZ8bXA0fG1vdnxhdmkpJC8sICdVbnN1cHBvcnRlZCBmaWxlIHR5cGUnKSxcbiAgc2l6ZTogei5udW1iZXIoKVxuICAgIC5taW4oMSwgJ0ZpbGUgY2Fubm90IGJlIGVtcHR5JylcbiAgICAubWF4KDUwICogMTAyNCAqIDEwMjQsICdGaWxlIHNpemUgY2Fubm90IGV4Y2VlZCA1ME1CJykgLy8gNTBNQiBsaW1pdFxufSlcblxuLy8gU2VhcmNoIGFuZCBmaWx0ZXIgc2NoZW1hc1xuZXhwb3J0IGNvbnN0IHRyaXBGaWx0ZXJTY2hlbWEgPSB6Lm9iamVjdCh7XG4gIHN0YXR1czogei5lbnVtKFsnVVBDT01JTkcnLCAnT05HT0lORycsICdFTkRFRCddKS5vcHRpb25hbCgpLFxuICBtb29kOiB6LmVudW0oWydSRUxBWEVEJywgJ0FEVkVOVFVSRScsICdTUElSSVRVQUwnLCAnQ1VMVFVSQUwnLCAnUEFSVFknLCAnTUlYRUQnXSkub3B0aW9uYWwoKSxcbiAgdHlwZTogei5lbnVtKFsnU09MTycsICdHUk9VUCcsICdDT1VQTEUnLCAnRkFNSUxZJ10pLm9wdGlvbmFsKCksXG4gIHN0YXJ0RGF0ZTogei5zdHJpbmcoKS5kYXRldGltZSgpLm9wdGlvbmFsKCksXG4gIGVuZERhdGU6IHouc3RyaW5nKCkuZGF0ZXRpbWUoKS5vcHRpb25hbCgpXG59KVxuXG4vLyBSYXRlIGxpbWl0aW5nIHZhbGlkYXRpb25cbmV4cG9ydCBjb25zdCByYXRlTGltaXRTY2hlbWEgPSB6Lm9iamVjdCh7XG4gIG1heFJlcXVlc3RzOiB6Lm51bWJlcigpLm1pbigxKS5tYXgoMTAwMCkuZGVmYXVsdCgxMDApLFxuICB3aW5kb3dNczogei5udW1iZXIoKS5taW4oMTAwMCkubWF4KDM2MDAwMDApLmRlZmF1bHQoNjAwMDApIC8vIDEgc2Vjb25kIHRvIDEgaG91clxufSkiXSwibmFtZXMiOlsieiIsInNpZ251cFNjaGVtYSIsIm9iamVjdCIsImVtYWlsIiwic3RyaW5nIiwibWF4IiwidHJhbnNmb3JtIiwidG9Mb3dlckNhc2UiLCJ0cmltIiwicGFzc3dvcmQiLCJtaW4iLCJyZWdleCIsIm5hbWUiLCJ1c2VybmFtZSIsIm9wdGlvbmFsIiwibG9naW5TY2hlbWEiLCJ1cGRhdGVQcm9maWxlU2NoZW1hIiwiYmlvIiwiYXZhdGFyVXJsIiwidXJsIiwiY3JlYXRlVHJpcFNjaGVtYSIsInRpdGxlIiwiZGVzY3JpcHRpb24iLCJkZXNjIiwic3RhcnREYXRlIiwiZGF0ZXRpbWUiLCJyZWZpbmUiLCJkYXRlIiwiRGF0ZSIsIm5vdyIsInNldEhvdXJzIiwiZW5kRGF0ZSIsImRlc3RpbmF0aW9ucyIsImFycmF5IiwiZGVzdCIsIm1vb2QiLCJlbnVtIiwidHlwZSIsImNvdmVyTWVkaWFVcmwiLCJkYXRhIiwibWVzc2FnZSIsInBhdGgiLCJjcmVhdGVUaHJlYWRFbnRyeVNjaGVtYSIsImNvbnRlbnRUZXh0IiwidGV4dCIsIm1lZGlhVXJsIiwibG9jYXRpb25OYW1lIiwiZ3BzQ29vcmRpbmF0ZXMiLCJsYXQiLCJudW1iZXIiLCJsbmciLCJ0YWdnZWRVc2VySWRzIiwidXVpZCIsImxlbmd0aCIsImFkZFBhcnRpY2lwYW50U2NoZW1hIiwidXNlcklkIiwicm9sZSIsInVwZGF0ZUZpbmFsUG9zdFNjaGVtYSIsInN1bW1hcnlUZXh0IiwiY3VyYXRlZE1lZGlhIiwiY2FwdGlvbiIsInBhZ2luYXRpb25TY2hlbWEiLCJwYWdlIiwiTnVtYmVyIiwibiIsImRlZmF1bHQiLCJsaW1pdCIsImZpbGVVcGxvYWRTY2hlbWEiLCJmaWxlbmFtZSIsImNvbnRlbnRUeXBlIiwic2l6ZSIsInRyaXBGaWx0ZXJTY2hlbWEiLCJzdGF0dXMiLCJyYXRlTGltaXRTY2hlbWEiLCJtYXhSZXF1ZXN0cyIsIndpbmRvd01zIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/validation.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/zod","vendor-chunks/jsonwebtoken","vendor-chunks/bcryptjs","vendor-chunks/lodash.includes","vendor-chunks/jws","vendor-chunks/lodash.once","vendor-chunks/jwa","vendor-chunks/lodash.isinteger","vendor-chunks/ecdsa-sig-formatter","vendor-chunks/lodash.isplainobject","vendor-chunks/ms","vendor-chunks/lodash.isstring","vendor-chunks/lodash.isnumber","vendor-chunks/lodash.isboolean","vendor-chunks/safe-buffer","vendor-chunks/buffer-equal-constant-time"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fusers%2F%5Bid%5D%2Froute&page=%2Fapi%2Fusers%2F%5Bid%5D%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fusers%2F%5Bid%5D%2Froute.ts&appDir=%2FUsers%2Frajbagaria%2FDesktop%2FBolt-Travello%2FFlut%2Fproject%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Frajbagaria%2FDesktop%2FBolt-Travello%2FFlut%2Fproject&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();